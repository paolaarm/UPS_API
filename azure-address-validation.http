### Request to get OAuth2 token
# @name token
POST {{MICROSOFT_BASE}}/{{AZURE_TENANT_ID}}/oauth2/v2.0/token HTTP/1.1           
Content-Type: application/x-www-form-urlencoded

client_id={{AZURE_CLIENT_ID}}
&scope=https://management.azure.com/.default
&client_secret={{AZURE_CLIENT_SECRET}}
&grant_type=client_credentials

### Request to validate address
@access_token = {{token.response.body.$.access_token}}
@ADDR_LINE1 = 12455 Jim Dhamer Dr
@ADDR_LINE2 = 
@ADDR_CITY = 
@ADDR_STATE = IL
@ADDR_POSTAL = 
@ADDR_COUNTRY = US



POST {{AZURE_BASE}}/providers/Microsoft.Billing/validateAddress?api-version=2024-04-01
Authorization: Bearer {{access_token}}
Content-Type: application/json

{
  "addressLine1": "{{ADDR_LINE1}}",
  "city": "{{ADDR_CITY}}",
  "country": "{{ADDR_COUNTRY}}",
  "postalCode": "{{ADDR_POSTAL}}",
  "region": "{{ADDR_STATE}}"
}
